<?php

function dc_social_sharing_buttons($content)
{
	if( is_single() )
	{
        $plantilla =
        '<style amp-custom>
            .content-area__contenedor__redes__lista{
                display: flex;
            }

            .content-area__contenedor__redes__lista__item{
                margin-left: 0.25rem;
                margin-right: 0.25rem;
                display: flex;
                height: 3rem;
                width: 3rem;
                justify-content: center;
                border-radius: 9999px;
                --tw-bg-opacity: 1;
                background-color: rgba(156, 163, 175, var(--tw-bg-opacity));
            }
            .social__icon__svg {
                height: 100%;
                width: 1.5rem;
            }
        </style>'.
        '<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="icon-facebook" enable-background="new 0 0 24 24" height="" viewbox="0 0 24 24" width="" ><path d="m15.997 3.985h2.191v-3.816c-.378-.052-1.678-.169-3.192-.169-3.159 0-5.323 1.987-5.323 5.639v3.361h-3.486v4.266h3.486v10.734h4.274v-10.733h3.345l.531-4.266h-3.877v-2.939c.001-1.233.333-2.077 2.051-2.077z"/></symbol>
            <symbol id="icon-instagram" height="" viewbox="0 0 511 511.9" width=""><path d="m510.949219 150.5c-1.199219-27.199219-5.597657-45.898438-11.898438-62.101562-6.5-17.199219-16.5-32.597657-29.601562-45.398438-12.800781-13-28.300781-23.101562-45.300781-29.5-16.296876-6.300781-34.898438-10.699219-62.097657-11.898438-27.402343-1.300781-36.101562-1.601562-105.601562-1.601562s-78.199219.300781-105.5 1.5c-27.199219 1.199219-45.898438 5.601562-62.097657 11.898438-17.203124 6.5-32.601562 16.5-45.402343 29.601562-13 12.800781-23.097657 28.300781-29.5 45.300781-6.300781 16.300781-10.699219 34.898438-11.898438 62.097657-1.300781 27.402343-1.601562 36.101562-1.601562 105.601562s.300781 78.199219 1.5 105.5c1.199219 27.199219 5.601562 45.898438 11.902343 62.101562 6.5 17.199219 16.597657 32.597657 29.597657 45.398438 12.800781 13 28.300781 23.101562 45.300781 29.5 16.300781 6.300781 34.898438 10.699219 62.101562 11.898438 27.296876 1.203124 36 1.5 105.5 1.5s78.199219-.296876 105.5-1.5c27.199219-1.199219 45.898438-5.597657 62.097657-11.898438 34.402343-13.300781 61.601562-40.5 74.902343-74.898438 6.296876-16.300781 10.699219-34.902343 11.898438-62.101562 1.199219-27.300781 1.5-36 1.5-105.5s-.101562-78.199219-1.300781-105.5zm-46.097657 209c-1.101562 25-5.300781 38.5-8.800781 47.5-8.601562 22.300781-26.300781 40-48.601562 48.601562-9 3.5-22.597657 7.699219-47.5 8.796876-27 1.203124-35.097657 1.5-103.398438 1.5s-76.5-.296876-103.402343-1.5c-25-1.097657-38.5-5.296876-47.5-8.796876-11.097657-4.101562-21.199219-10.601562-29.398438-19.101562-8.5-8.300781-15-18.300781-19.101562-29.398438-3.5-9-7.699219-22.601562-8.796876-47.5-1.203124-27-1.5-35.101562-1.5-103.402343s.296876-76.5 1.5-103.398438c1.097657-25 5.296876-38.5 8.796876-47.5 4.101562-11.101562 10.601562-21.199219 19.203124-29.402343 8.296876-8.5 18.296876-15 29.398438-19.097657 9-3.5 22.601562-7.699219 47.5-8.800781 27-1.199219 35.101562-1.5 103.398438-1.5 68.402343 0 76.5.300781 103.402343 1.5 25 1.101562 38.5 5.300781 47.5 8.800781 11.097657 4.097657 21.199219 10.597657 29.398438 19.097657 8.5 8.300781 15 18.300781 19.101562 29.402343 3.5 9 7.699219 22.597657 8.800781 47.5 1.199219 27 1.5 35.097657 1.5 103.398438s-.300781 76.300781-1.5 103.300781zm0 0"/><path d="m256.449219 124.5c-72.597657 0-131.5 58.898438-131.5 131.5s58.902343 131.5 131.5 131.5c72.601562 0 131.5-58.898438 131.5-131.5s-58.898438-131.5-131.5-131.5zm0 216.800781c-47.097657 0-85.300781-38.199219-85.300781-85.300781s38.203124-85.300781 85.300781-85.300781c47.101562 0 85.300781 38.199219 85.300781 85.300781s-38.199219 85.300781-85.300781 85.300781zm0 0"/><path d="m423.851562 119.300781c0 16.953125-13.746093 30.699219-30.703124 30.699219-16.953126 0-30.699219-13.746094-30.699219-30.699219 0-16.957031 13.746093-30.699219 30.699219-30.699219 16.957031 0 30.703124 13.742188 30.703124 30.699219zm0 0"/></symbol>
            <symbol id="icon-twitter" enable-background="new 0 0 512 512" version="1.1" viewbox="0 0 512 512" xml:space="preserve"><path d="m512 97.248c-19.04 8.352-39.328 13.888-60.48 16.576 21.76-12.992 38.368-33.408 46.176-58.016-20.288 12.096-42.688 20.64-66.56 25.408-19.264-20.512-46.72-33.216-76.672-33.216-58.112 0-104.9 47.168-104.9 104.99 0 8.32 0.704 16.32 2.432 23.936-87.264-4.256-164.48-46.08-216.35-109.79-9.056 15.712-14.368 33.696-14.368 53.056 0 36.352 18.72 68.576 46.624 87.232-16.864-0.32-33.408-5.216-47.424-12.928v1.152c0 51.008 36.384 93.376 84.096 103.14-8.544 2.336-17.856 3.456-27.52 3.456-6.72 0-13.504-0.384-19.872-1.792 13.6 41.568 52.192 72.128 98.08 73.12-35.712 27.936-81.056 44.768-130.14 44.768-8.608 0-16.864-0.384-25.12-1.44 46.496 29.984 101.6 47.104 161.02 47.104 193.15 0 298.75-160 298.75-298.69 0-4.64-0.16-9.12-0.384-13.568 20.832-14.784 38.336-33.248 52.608-54.496z"/></symbol>
            <symbol id="icon-whatsapp" height="" viewbox="-23 -21 682 682.66669" width="" xmlns="http://www.w3.org/2000/svg"><path d="m544.386719 93.007812c-59.875-59.945312-139.503907-92.9726558-224.335938-93.007812-174.804687 0-317.070312 142.261719-317.140625 317.113281-.023437 55.894531 14.578125 110.457031 42.332032 158.550781l-44.992188 164.335938 168.121094-44.101562c46.324218 25.269531 98.476562 38.585937 151.550781 38.601562h.132813c174.785156 0 317.066406-142.273438 317.132812-317.132812.035156-84.742188-32.921875-164.417969-92.800781-224.359376zm-224.335938 487.933594h-.109375c-47.296875-.019531-93.683594-12.730468-134.160156-36.742187l-9.621094-5.714844-99.765625 26.171875 26.628907-97.269531-6.269532-9.972657c-26.386718-41.96875-40.320312-90.476562-40.296875-140.28125.054688-145.332031 118.304688-263.570312 263.699219-263.570312 70.40625.023438 136.589844 27.476562 186.355469 77.300781s77.15625 116.050781 77.132812 186.484375c-.0625 145.34375-118.304687 263.59375-263.59375 263.59375zm144.585938-197.417968c-7.921875-3.96875-46.882813-23.132813-54.148438-25.78125-7.257812-2.644532-12.546875-3.960938-17.824219 3.96875-5.285156 7.929687-20.46875 25.78125-25.09375 31.066406-4.625 5.289062-9.242187 5.953125-17.167968 1.984375-7.925782-3.964844-33.457032-12.335938-63.726563-39.332031-23.554687-21.011719-39.457031-46.960938-44.082031-54.890626-4.617188-7.9375-.039062-11.8125 3.476562-16.171874 8.578126-10.652344 17.167969-21.820313 19.808594-27.105469 2.644532-5.289063 1.320313-9.917969-.664062-13.882813-1.976563-3.964844-17.824219-42.96875-24.425782-58.839844-6.4375-15.445312-12.964843-13.359374-17.832031-13.601562-4.617187-.230469-9.902343-.277344-15.1875-.277344-5.28125 0-13.867187 1.980469-21.132812 9.917969-7.261719 7.933594-27.730469 27.101563-27.730469 66.105469s28.394531 76.683594 32.355469 81.972656c3.960937 5.289062 55.878906 85.328125 135.367187 119.648438 18.90625 8.171874 33.664063 13.042968 45.175782 16.695312 18.984374 6.03125 36.253906 5.179688 49.910156 3.140625 15.226562-2.277344 46.878906-19.171875 53.488281-37.679687 6.601563-18.511719 6.601563-34.375 4.617187-37.683594-1.976562-3.304688-7.261718-5.285156-15.183593-9.253906zm0 0" fill-rule="evenodd"/></symbol>
            <symbol id="icon-linkedin" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m437 0h-362c-41.351562 0-75 33.648438-75 75v362c0 41.351562 33.648438 75 75 75h362c41.351562 0 75-33.648438 75-75v-362c0-41.351562-33.648438-75-75-75zm-256 406h-60v-210h60zm0-240h-60v-60h60zm210 240h-60v-120c0-16.539062-13.460938-30-30-30s-30 13.460938-30 30v120h-60v-210h60v11.308594c15.71875-4.886719 25.929688-11.308594 45-11.308594 40.691406.042969 75 36.546875 75 79.6875zm0 0"/></symbol>
            <symbol id="icon-pinterest" enable-background="new 0 0 97.75 97.75" version="1.1" viewbox="0 0 97.75 97.75" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m48.875 0c-26.992 0-48.875 21.882-48.875 48.875s21.883 48.875 48.875 48.875 48.875-21.882 48.875-48.875-21.883-48.875-48.875-48.875zm5.624 65.109c-4.521 0-8.773-2.444-10.229-5.219 0 0-2.432 9.645-2.943 11.506-1.813 6.58-7.146 13.162-7.561 13.701-0.289 0.375-0.928 0.258-0.994-0.24-0.113-0.838-1.475-9.139 0.127-15.909 0.801-3.4 5.383-22.814 5.383-22.814s-1.334-2.673-1.334-6.625c0-6.205 3.596-10.837 8.074-10.837 3.807 0 5.645 2.859 5.645 6.286 0 3.828-2.436 9.552-3.693 14.856-1.051 4.441 2.225 8.064 6.605 8.064 7.933 0 13.272-10.188 13.272-22.261 0-9.174-6.176-16.044-17.418-16.044-12.697 0-20.615 9.471-20.615 20.052 0 3.646 1.078 6.221 2.764 8.21 0.773 0.915 0.883 1.283 0.602 2.333-0.203 0.771-0.66 2.625-0.854 3.358-0.279 1.062-1.137 1.44-2.098 1.049-5.846-2.387-8.572-8.793-8.572-15.994 0-11.893 10.029-26.154 29.922-26.154 15.985 0 26.506 11.566 26.506 23.984 1e-3 16.428-9.132 28.698-22.589 28.698z"/></symbol>
        </svg>'.
        '<a href="{twitter}" target="_blank">
			<li class="content-area__contenedor__redes__lista__item">
				<svg class="social__icon__svg"><use xlink:href="#icon-twitter" /></svg>
			</li>
		</a>'.
        '<a href="{facebook}" target="_blank">
			<li class="content-area__contenedor__redes__lista__item">
				<svg class="social__icon__svg"><use xlink:href="#icon-facebook" /></svg>
			</li>
		</a>'.
		'<a href="{pinterest}" target="_blank">
			<li class="content-area__contenedor__redes__lista__item">
				<svg class="social__icon__svg"><use xlink:href="#icon-pinterest" /></svg>
			</li>
		</a>'.
		'<a href="{linkedin}" target="_blank">
			<li class="content-area__contenedor__redes__lista__item">
				<svg class="social__icon__svg"><use xlink:href="#icon-linkedin" /></svg>
			</li>
		</a>'.
		'<a href="{whatsapp}" target="_blank">
			<li class="content-area__contenedor__redes__lista__item">
				<svg class="social__icon__svg"><use xlink:href="#icon-whatsapp" /></svg>
			</li>
		</a>';

		$cad			= '';
		$urlArticulo 	= urlencode(get_permalink());
        $titleArticulo 	= str_replace( ' ', '%20', get_the_title());


		$twitterURL		=	'https://twitter.com/intent/tweet?text='.$titleArticulo.'&amp;url='.$urlArticulo.'&amp;via=DecodeCMS';
        $facebookURL 	=	'https://www.facebook.com/sharer/sharer.php?u='.$urlArticulo;
		$pinterestURL 	=	'https://pinterest.com/pin/create/button/?url=&media=&description='.$urlArticulo;
		$whatsappURL 	=	'https://wa.me/?text='.$titleArticulo . ' ' . $urlArticulo;
		$linkedInURL 	=	'https://www.linkedin.com/shareArticle?mini=true&url='.$urlArticulo.'&amp;title='.$titleArticulo;

		$ar_buscar 		= array('{twitter}','{facebook}','{pinterest}','{linkedin}','{whatsapp}');
		$ar_reemplazar 	= array($twitterURL,$facebookURL,$pinterestURL,$linkedInURL,$whatsappURL);

        $cad	.= '<div class="content-area__contenedor__redes">';
		$cad	.= '<ul class="content-area__contenedor__redes__lista">';
        $cad	.=  str_replace($ar_buscar, $ar_reemplazar, $plantilla);
		$cad	.= '</ul>';
		$cad	.= '</div>';

		$content = $cad.$content;
		$content .= $cad;

		return $content;
	}
	else
	{
		return $content;
	}
};

add_filter( 'the_content', 'dc_social_sharing_buttons', 0);
